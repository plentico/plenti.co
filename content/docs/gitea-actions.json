{
	"title": "Gitea Actions",
	"group": "Deployment",
	"order": 5.05,
	"body": "<h2>Description</h2><a href=\"https://gitea.io/en-us/\" target=\"_blank\" rel=\"noreferrer noopener\">Gitea</a>&nbsp;is a <em>free and open source</em>&nbsp;git repository service that you can self-host (similar to GitLab but less moving parts). It does not offer a static website hosting solution out of the box, but you could always implement your own using something like&nbsp;<a href=\"https://codeberg.org/Codeberg/pages-server\" target=\"_blank\" rel=\"noreferrer noopener\">pages-server</a>. Gitea also offers a built-in CI solution that is&nbsp;<a href=\"https://blog.gitea.io/2022/12/feature-preview-gitea-actions/\" target=\"_blank\" rel=\"noreferrer noopener\">compatible with GitHub Actions</a>.<div><br></div><div>You can have your Plenti websites automatically build and deploy to a specific branch in your repo by adding a <code>.gitea/workflows/build.yml</code>&nbsp;file to your project that will run automatically every time you push to your main branch on GitHub.<div><br><codeblock>name:&nbsp;Plenti Build<br>run-name: ${{ github.actor }} deployed to build branch<br>on:<br>&nbsp;&nbsp;push:<br>&nbsp;&nbsp;&nbsp;&nbsp;branches:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- main<br><br>jobs:<br>&nbsp;&nbsp;deploy:<br>&nbsp;&nbsp;&nbsp;&nbsp;runs-on: ubuntu-latest<br>&nbsp;&nbsp;&nbsp;&nbsp;steps:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- uses: actions/checkout@v2<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- name: Build<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uses: docker://plentico/plenti:latest<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entrypoint: /plenti<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;args: build&nbsp;--output=\"temp\"<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- name: Deploy<br>&nbsp; &nbsp; &nbsp; &nbsp; run: |<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /usr/bin/git config user.name ${{ github.actor }}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/bin/git config user.email ci@plenti.co<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/bin/git remote rm origin<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/usr/bin/git remote add origin https://x-access-token:${{ secrets.GITEA_TOKEN }}@your-gitea-instance.com/${{ github.repository }}<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;/usr/bin/git add -A<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;/usr/bin/git commit -m \"Commit temp folder.\"<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;/usr/bin/git push origin `git subtree split --prefix temp master`:prod --no-verify --force&nbsp;</codeblock><div><br></div><br></div></div>"
}