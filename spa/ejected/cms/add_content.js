import{SvelteComponent,append,attr,check_outros,children,claim_component,claim_element,claim_space,claim_text,create_component,destroy_component,destroy_each,detach,element,empty,group_outros,init,insert,listen,mount_component,noop,null_to_empty,run_all,safe_not_equal,set_data,set_input_value,space,text,transition_in,transition_out}from"../../web_modules/svelte/internal/index.mjs";import blueprints from"../blueprints.js";import ButtonWrapper from"./button_wrapper.js";import validateFilename from"./validate_filename.js";function get_each_context_1(e,t,n){const s=e.slice();return s[13]=t[n],s}function get_each_context(e,t,n){const s=e.slice();return s[10]=t[n],s}function create_else_block(e){let s,a,i,n,o=blueprints,t=[];for(let n=0;n<o.length;n+=1)t[n]=create_each_block_1(get_each_context_1(e,o,n));return{c(){s=element("h1"),a=text("Add content of type:"),i=space(),n=element("div");for(let e=0;e<t.length;e+=1)t[e].c();this.h()},l(e){s=claim_element(e,"H1",{});var o,r=children(s);a=claim_text(r,"Add content of type:"),r.forEach(detach),i=claim_space(e),n=claim_element(e,"DIV",{class:!0}),o=children(n);for(let e=0;e<t.length;e+=1)t[e].l(o);o.forEach(detach),this.h()},h(){attr(n,"class","blueprints svelte-17xmg29")},m(e,o){insert(e,s,o),append(s,a),insert(e,i,o),insert(e,n,o);for(let e=0;e<t.length;e+=1)t[e].m(n,null)},p(e,s){if(s&8){o=blueprints;let i;for(i=0;i<o.length;i+=1){const a=get_each_context_1(e,o,i);t[i]?t[i].p(a,s):(t[i]=create_each_block_1(a),t[i].c(),t[i].m(n,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=o.length}},i:noop,o:noop,d(e){e&&detach(s),e&&detach(i),e&&detach(n),destroy_each(t,e)}}}function create_if_block(e){let i,v,d,w,h,n,a,y,u,j,b,s,f,p,l,g,m,c,o,r,_,O,t=e[2]&&create_if_block_1(e);return o=new ButtonWrapper({props:{$$slots:{default:[create_default_slot]},$$scope:{ctx:e}}}),{c(){i=element("h1"),v=text("Set "),d=text(e[1]),w=text(" filename:"),h=space(),n=element("div"),a=element("span"),y=text("content/"),u=text(e[1]),j=text("/"),b=space(),s=element("input"),p=space(),l=element("span"),g=text(".json"),m=space(),t&&t.c(),c=space(),create_component(o.$$.fragment),this.h()},l(r){i=claim_element(r,"H1",{});var f,_,x,O=children(i);v=claim_text(O,"Set "),d=claim_text(O,e[1]),w=claim_text(O," filename:"),O.forEach(detach),h=claim_space(r),n=claim_element(r,"DIV",{class:!0}),f=children(n),a=claim_element(f,"SPAN",{}),_=children(a),y=claim_text(_,"content/"),u=claim_text(_,e[1]),j=claim_text(_,"/"),_.forEach(detach),b=claim_space(f),s=claim_element(f,"INPUT",{placeholder:!0,class:!0}),p=claim_space(f),l=claim_element(f,"SPAN",{}),x=children(l),g=claim_text(x,".json"),x.forEach(detach),f.forEach(detach),m=claim_space(r),t&&t.l(r),c=claim_space(r),claim_component(o.$$.fragment,r),this.h()},h(){attr(s,"placeholder","filename"),attr(s,"class",f=""+(null_to_empty(e[2].length>0?"error":"")+" svelte-17xmg29")),attr(n,"class","filename svelte-17xmg29")},m(f,x){insert(f,i,x),append(i,v),append(i,d),append(i,w),insert(f,h,x),insert(f,n,x),append(n,a),append(a,y),append(a,u),append(a,j),append(n,b),append(n,s),set_input_value(s,e[0]),append(n,p),append(n,l),append(l,g),insert(f,m,x),t&&t.m(f,x),insert(f,c,x),mount_component(o,f,x),r=!0,_||(O=listen(s,"input",e[7]),_=!0)},p(e,n){(!r||n&2)&&set_data(d,e[1]),(!r||n&2)&&set_data(u,e[1]),(!r||n&4&&f!==(f=""+(null_to_empty(e[2].length>0?"error":"")+" svelte-17xmg29")))&&attr(s,"class",f),n&1&&s.value!==e[0]&&set_input_value(s,e[0]),e[2]?t?t.p(e,n):(t=create_if_block_1(e),t.c(),t.m(c.parentNode,c)):t&&(t.d(1),t=null);const i={};n&65536&&(i.$$scope={dirty:n,ctx:e}),o.$set(i)},i(e){if(r)return;transition_in(o.$$.fragment,e),r=!0},o(e){transition_out(o.$$.fragment,e),r=!1},d(e){e&&detach(i),e&&detach(h),e&&detach(n),e&&detach(m),t&&t.d(e),e&&detach(c),destroy_component(o,e),_=!1,O()}}}function create_each_block_1(e){let t,o=e[13].type+"",n,s,i;function a(){return e[9](e[13])}return{c(){t=element("button"),n=text(o),this.h()},l(e){t=claim_element(e,"BUTTON",{class:!0});var s=children(t);n=claim_text(s,o),s.forEach(detach),this.h()},h(){attr(t,"class","blueprint svelte-17xmg29")},m(e,o){insert(e,t,o),append(t,n),s||(i=listen(t,"click",a),s=!0)},p(t){e=t},d(e){e&&detach(t),s=!1,i()}}}function create_if_block_1(e){let n,s=e[2],t=[];for(let n=0;n<s.length;n+=1)t[n]=create_each_block(get_each_context(e,s,n));return{c(){n=element("ul");for(let e=0;e<t.length;e+=1)t[e].c();this.h()},l(e){n=claim_element(e,"UL",{class:!0});var s=children(n);for(let e=0;e<t.length;e+=1)t[e].l(s);s.forEach(detach),this.h()},h(){attr(n,"class","errors svelte-17xmg29")},m(e,s){insert(e,n,s);for(let e=0;e<t.length;e+=1)t[e].m(n,null)},p(e,o){if(o&4){s=e[2];let i;for(i=0;i<s.length;i+=1){const a=get_each_context(e,s,i);t[i]?t[i].p(a,o):(t[i]=create_each_block(a),t[i].c(),t[i].m(n,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=s.length}},d(e){e&&detach(n),destroy_each(t,e)}}}function create_each_block(e){let t,n=e[10]+"",s;return{c(){t=element("li"),s=text(n)},l(e){t=claim_element(e,"LI",{});var o=children(t);s=claim_text(o,n),o.forEach(detach)},m(e,n){insert(e,t,n),append(t,s)},p(e,t){t&4&&n!==(n=e[10]+"")&&set_data(s,n)},d(e){e&&detach(t)}}}function create_default_slot(e){let t,o,s,n,i,a,r;return{c(){t=element("button"),o=text("Set Filename"),s=space(),n=element("button"),i=text("Go back"),this.h()},l(e){t=claim_element(e,"BUTTON",{class:!0});var a,r=children(t);o=claim_text(r,"Set Filename"),r.forEach(detach),s=claim_space(e),n=claim_element(e,"BUTTON",{class:!0}),a=children(n),i=claim_text(a,"Go back"),a.forEach(detach),this.h()},h(){attr(t,"class","button svelte-17xmg29"),attr(n,"class","button svelte-17xmg29")},m(c,l){insert(c,t,l),append(t,o),insert(c,s,l),insert(c,n,l),append(n,i),a||(r=[listen(t,"click",e[4]),listen(n,"click",e[8])],a=!0)},p:noop,d(e){e&&detach(t),e&&detach(s),e&&detach(n),a=!1,run_all(r)}}}function create_fragment(e){let t,n,o,i;const a=[create_if_block,create_else_block],s=[];function r(e){return e[1]?0:1}return t=r(e,-1),n=s[t]=a[t](e),{c(){n.c(),o=empty()},l(e){n.l(e),o=empty()},m(e,n){s[t].m(e,n),insert(e,o,n),i=!0},p(e,[i]){let c=t;t=r(e,i),t===c?s[t].p(e,i):(group_outros(),transition_out(s[c],1,1,()=>{s[c]=null}),check_outros(),n=s[t],n?n.p(e,i):(n=s[t]=a[t](e),n.c()),transition_in(n,1),n.m(o.parentNode,o))},i(){if(i)return;transition_in(n),i=!0},o(){transition_out(n),i=!1},d(e){s[t].d(e),e&&detach(o)}}}function instance(e,t,n){let{showAdd:o}=t,{showEditor:i}=t,s="",a;const r=e=>{n(1,a=e)};let c=[];const l=()=>{n(2,c=validateFilename(s)),c.length===0&&(history.pushState(null,"","/#add/"+a+"/"+s),n(5,o=!1),n(6,i=!0))};function d(){s=this.value,n(0,s)}const u=()=>r(null),h=e=>r(e.type);return e.$$set=e=>{"showAdd"in e&&n(5,o=e.showAdd),"showEditor"in e&&n(6,i=e.showEditor)},[s,a,c,r,l,o,i,d,u,h]}class Component extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{showAdd:5,showEditor:6})}}export default Component