import{SvelteComponent,claim_component,component_subscribe,create_component,destroy_component,init,mount_component,safe_not_equal,transition_in,transition_out}from"../web_modules/svelte/internal/index.mjs";import Navaid from"../web_modules/navaid/dist/navaid.mjs";import Html from"../global/html.js";import{getContent}from"./main.js";import adminMenu from"./cms/admin_menu.js";import{user}from"./cms/auth.js";function create_fragment(e){let t,n;return t=new Html({props:{path:e[0],params:e[1],content:e[2],layout:e[3],allContent:e[4],allLayouts:e[5],env:e[6],user,adminMenu}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,s){mount_component(t,e,s),n=!0},p(e,[n]){const s={};n&1&&(s.path=e[0]),n&2&&(s.params=e[1]),n&4&&(s.content=e[2]),n&8&&(s.layout=e[3]),n&16&&(s.allContent=e[4]),n&32&&(s.allLayouts=e[5]),n&64&&(s.env=e[6]),t.$set(s)},i(e){if(n)return;transition_in(t.$$.fragment,e),n=!0},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function instance(e,t,n){let r;component_subscribe(e,user,e=>n(7,r=e));let{path:o}=t,{params:i}=t,{content:s}=t,{layout:c}=t,{allContent:l}=t,{allLayouts:u}=t,{env:a}=t;function h(e){n(2,s=getContent(o)),s===void 0&&(n(2,s=getContent("/404")),s===void 0&&n(2,s={path:"/404",type:"404",filename:"404.json",fields:{}})),n(3,c=e.default),window.scrollTo(0,0)}function d(e){n(0,o=e.state||e.uri||location.pathname),n(1,i=new URLSearchParams(location.search))}addEventListener("replacestate",d),addEventListener("pushstate",d),addEventListener("popstate",d);const m=()=>{import("../content/404.js").then(h).catch(e=>{console.log("Add a '/layouts/content/404.svelte' file to handle Page Not Found errors."),console.log("If you want to pass data to your 404 component, you can also add a '/content/404.json' file."),console.log(e)})},f=Navaid("/",m);return l.forEach(e=>{f.on((a.local?"":a.baseurl)+e.path,()=>{import("../content/"+e.type+".js").then(h).catch(m)})}),f.listen(),r.isBeingAuthenticated&&r.finishAuthentication(i),e.$$set=e=>{"path"in e&&n(0,o=e.path),"params"in e&&n(1,i=e.params),"content"in e&&n(2,s=e.content),"layout"in e&&n(3,c=e.layout),"allContent"in e&&n(4,l=e.allContent),"allLayouts"in e&&n(5,u=e.allLayouts),"env"in e&&n(6,a=e.env)},[o,i,s,c,l,u,a]}class Component extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{path:0,params:1,content:2,layout:3,allContent:4,allLayouts:5,env:6})}}export default Component