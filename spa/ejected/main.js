import Router from"./router.js";import allContent from"./content.js";import*as allLayouts from"./layouts.js";import{env}from"./env.js";let path=location.pathname,params=new URLSearchParams(location.search),layout,content;const contentLookup=(e,t="")=>allContent.find(n=>n.path+t==e),makeRelativePath=e=>e.charAt(0)==="/"&&e!=="/"?makeRelativePath(e.substring(1)):e,makeRootRelativePath=e=>"/"+e;export const getContent=e=>(e=e==="."?"/":e,e=e.replace(new RegExp("^/?"+env.baseurl,"i"),""),contentLookup(e)??contentLookup(makeRelativePath(e))??contentLookup(makeRootRelativePath(e))??contentLookup(e,"/")??contentLookup(makeRelativePath(e),"/")??contentLookup(makeRootRelativePath(e),"/"));content=getContent(path),import("../content/"+content.type+".js").then(e=>{layout=e.default,new Router({target:document,hydrate:!0,props:{path,params,layout,content,allContent,allLayouts,env}})}).catch(e=>console.log(e))