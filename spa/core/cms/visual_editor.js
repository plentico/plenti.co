import{SvelteComponent,add_flush_callback,attr,bind,binding_callbacks,check_outros,children,claim_component,claim_element,claim_space,create_component,destroy_component,destroy_each,detach,element,empty,group_outros,init,insert_hydration,mount_component,noop,safe_not_equal,space,transition_in,transition_out}from"../../web_modules/svelte/internal/index.mjs";import DynamicFormInput from"./dynamic_form_input.js";import ButtonWrapper from"./button_wrapper.js";import Button from"./button.js";import schemas from"../../generated/schemas.js";function get_each_context(e,t,n){const s=e.slice();return s[23]=t[n][0],s[24]=t[n][1],s[25]=t,s[26]=n,s}function get_each_context_1(e,t,n){const s=e.slice();return s[27]=t[n],s}function get_each_context_2(e,t,n){const s=e.slice();return s[27]=t[n],s}function create_if_block_2(e){let s,o,n=Object.entries(e[7]),t=[];for(let s=0;s<n.length;s+=1)t[s]=create_each_block_2(get_each_context_2(e,n,s));const i=e=>transition_out(t[e],1,1,()=>{t[e]=null});return{c(){for(let e=0;e<t.length;e+=1)t[e].c();s=empty()},l(e){for(let n=0;n<t.length;n+=1)t[n].l(e);s=empty()},m(e,n){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,n);insert_hydration(e,s,n),o=!0},p(e,o){if(o[0]&223){n=Object.entries(e[7]);let a;for(a=0;a<n.length;a+=1){const i=get_each_context_2(e,n,a);t[a]?(t[a].p(i,o),transition_in(t[a],1)):(t[a]=create_each_block_2(i),t[a].c(),transition_in(t[a],1),t[a].m(s.parentNode,s))}group_outros();for(a=n.length;a<t.length;a+=1)i(a);check_outros()}},i(){if(o)return;for(let e=0;e<n.length;e+=1)transition_in(t[e]);o=!0},o(){t=t.filter(Boolean);for(let e=0;e<t.length;e+=1)transition_out(t[e]);o=!1},d(e){destroy_each(t,e),e&&detach(s)}}}function create_if_block_3(e){let t,c,r,o,i,a,s;function l(t){e[8](t)}function d(t){e[9](t)}function u(t){e[10](t)}function h(t){e[11](t)}function m(t){e[12](t)}let n={field:e[4][e[27][0]],label:e[27][0],parentKeys:e[27][0],schema:e[7]};return e[4]!==void 0&&(n.shadowContent=e[4]),e[1]!==void 0&&(n.showMediaModal=e[1]),e[2]!==void 0&&(n.changingMedia=e[2]),e[3]!==void 0&&(n.localMediaList=e[3]),e[6]!==void 0&&(n.missingRequired=e[6]),t=new DynamicFormInput({props:n}),binding_callbacks.push(()=>bind(t,"shadowContent",l)),binding_callbacks.push(()=>bind(t,"showMediaModal",d)),binding_callbacks.push(()=>bind(t,"changingMedia",u)),binding_callbacks.push(()=>bind(t,"localMediaList",h)),binding_callbacks.push(()=>bind(t,"missingRequired",m)),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),s=!0},p(e,n){const s={};n[0]&144&&(s.field=e[4][e[27][0]]),n[0]&128&&(s.label=e[27][0]),n[0]&128&&(s.parentKeys=e[27][0]),n[0]&128&&(s.schema=e[7]),!c&&n[0]&16&&(c=!0,s.shadowContent=e[4],add_flush_callback(()=>c=!1)),!r&&n[0]&2&&(r=!0,s.showMediaModal=e[1],add_flush_callback(()=>r=!1)),!o&&n[0]&4&&(o=!0,s.changingMedia=e[2],add_flush_callback(()=>o=!1)),!i&&n[0]&8&&(i=!0,s.localMediaList=e[3],add_flush_callback(()=>i=!1)),!a&&n[0]&64&&(a=!0,s.missingRequired=e[6],add_flush_callback(()=>a=!1)),t.$set(s)},i(e){if(s)return;transition_in(t.$$.fragment,e),s=!0},o(e){transition_out(t.$$.fragment,e),s=!1},d(e){destroy_component(t,e)}}}function create_each_block_2(e){let n,s,t=e[27][1]?.before===e[23]&&create_if_block_3(e);return{c(){t&&t.c(),n=empty()},l(e){t&&t.l(e),n=empty()},m(e,o){t&&t.m(e,o),insert_hydration(e,n,o),s=!0},p(e,s){e[27][1]?.before===e[23]?t?(t.p(e,s),s[0]&129&&transition_in(t,1)):(t=create_if_block_3(e),t.c(),transition_in(t,1),t.m(n.parentNode,n)):t&&(group_outros(),transition_out(t,1,1,()=>{t=null}),check_outros())},i(){if(s)return;transition_in(t),s=!0},o(){transition_out(t),s=!1},d(e){t&&t.d(e),e&&detach(n)}}}function create_if_block(e){let s,o,n=Object.entries(e[7]),t=[];for(let s=0;s<n.length;s+=1)t[s]=create_each_block_1(get_each_context_1(e,n,s));const i=e=>transition_out(t[e],1,1,()=>{t[e]=null});return{c(){for(let e=0;e<t.length;e+=1)t[e].c();s=empty()},l(e){for(let n=0;n<t.length;n+=1)t[n].l(e);s=empty()},m(e,n){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,n);insert_hydration(e,s,n),o=!0},p(e,o){if(o[0]&223){n=Object.entries(e[7]);let a;for(a=0;a<n.length;a+=1){const i=get_each_context_1(e,n,a);t[a]?(t[a].p(i,o),transition_in(t[a],1)):(t[a]=create_each_block_1(i),t[a].c(),transition_in(t[a],1),t[a].m(s.parentNode,s))}group_outros();for(a=n.length;a<t.length;a+=1)i(a);check_outros()}},i(){if(o)return;for(let e=0;e<n.length;e+=1)transition_in(t[e]);o=!0},o(){t=t.filter(Boolean);for(let e=0;e<t.length;e+=1)transition_out(t[e]);o=!1},d(e){destroy_each(t,e),e&&detach(s)}}}function create_if_block_1(e){let t,c,r,o,i,a,s;function l(t){e[18](t)}function d(t){e[19](t)}function u(t){e[20](t)}function h(t){e[21](t)}function m(t){e[22](t)}let n={field:e[4][e[27][0]],label:e[27][0],parentKeys:e[27][0],schema:e[7]};return e[4]!==void 0&&(n.shadowContent=e[4]),e[1]!==void 0&&(n.showMediaModal=e[1]),e[2]!==void 0&&(n.changingMedia=e[2]),e[3]!==void 0&&(n.localMediaList=e[3]),e[6]!==void 0&&(n.missingRequired=e[6]),t=new DynamicFormInput({props:n}),binding_callbacks.push(()=>bind(t,"shadowContent",l)),binding_callbacks.push(()=>bind(t,"showMediaModal",d)),binding_callbacks.push(()=>bind(t,"changingMedia",u)),binding_callbacks.push(()=>bind(t,"localMediaList",h)),binding_callbacks.push(()=>bind(t,"missingRequired",m)),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),s=!0},p(e,n){const s={};n[0]&144&&(s.field=e[4][e[27][0]]),n[0]&128&&(s.label=e[27][0]),n[0]&128&&(s.parentKeys=e[27][0]),n[0]&128&&(s.schema=e[7]),!c&&n[0]&16&&(c=!0,s.shadowContent=e[4],add_flush_callback(()=>c=!1)),!r&&n[0]&2&&(r=!0,s.showMediaModal=e[1],add_flush_callback(()=>r=!1)),!o&&n[0]&4&&(o=!0,s.changingMedia=e[2],add_flush_callback(()=>o=!1)),!i&&n[0]&8&&(i=!0,s.localMediaList=e[3],add_flush_callback(()=>i=!1)),!a&&n[0]&64&&(a=!0,s.missingRequired=e[6],add_flush_callback(()=>a=!1)),t.$set(s)},i(e){if(s)return;transition_in(t.$$.fragment,e),s=!0},o(e){transition_out(t.$$.fragment,e),s=!1},d(e){destroy_component(t,e)}}}function create_each_block_1(e){let n,s,t=e[27][1]?.after===e[23]&&create_if_block_1(e);return{c(){t&&t.c(),n=empty()},l(e){t&&t.l(e),n=empty()},m(e,o){t&&t.m(e,o),insert_hydration(e,n,o),s=!0},p(e,s){e[27][1]?.after===e[23]?t?(t.p(e,s),s[0]&129&&transition_in(t,1)):(t=create_if_block_1(e),t.c(),transition_in(t,1),t.m(n.parentNode,n)):t&&(group_outros(),transition_out(t,1,1,()=>{t=null}),check_outros())},i(){if(s)return;transition_in(t),s=!0},o(){transition_out(t),s=!1},d(e){t&&t.d(e),e&&detach(n)}}}function create_each_block(e){let a,s,m,h,l,u,d,c,o,r,n=e[7]&&create_if_block_2(e);function f(t){e[13](t,e[23])}function p(t){e[14](t)}function g(t){e[15](t)}function v(t){e[16](t)}function b(t){e[17](t)}let i={label:e[23],parentKeys:e[23],schema:e[7]};e[0].fields[e[23]]!==void 0&&(i.field=e[0].fields[e[23]]),e[1]!==void 0&&(i.showMediaModal=e[1]),e[2]!==void 0&&(i.changingMedia=e[2]),e[3]!==void 0&&(i.localMediaList=e[3]),e[6]!==void 0&&(i.missingRequired=e[6]),s=new DynamicFormInput({props:i}),binding_callbacks.push(()=>bind(s,"field",f)),binding_callbacks.push(()=>bind(s,"showMediaModal",p)),binding_callbacks.push(()=>bind(s,"changingMedia",g)),binding_callbacks.push(()=>bind(s,"localMediaList",v)),binding_callbacks.push(()=>bind(s,"missingRequired",b));let t=e[7]&&create_if_block(e);return{c(){n&&n.c(),a=space(),create_component(s.$$.fragment),c=space(),t&&t.c(),o=empty()},l(e){n&&n.l(e),a=claim_space(e),claim_component(s.$$.fragment,e),c=claim_space(e),t&&t.l(e),o=empty()},m(e,i){n&&n.m(e,i),insert_hydration(e,a,i),mount_component(s,e,i),insert_hydration(e,c,i),t&&t.m(e,i),insert_hydration(e,o,i),r=!0},p(i,r){e=i,e[7]?n?(n.p(e,r),r[0]&128&&transition_in(n,1)):(n=create_if_block_2(e),n.c(),transition_in(n,1),n.m(a.parentNode,a)):n&&(group_outros(),transition_out(n,1,1,()=>{n=null}),check_outros());const c={};r[0]&1&&(c.label=e[23]),r[0]&1&&(c.parentKeys=e[23]),r[0]&128&&(c.schema=e[7]),!m&&r[0]&1&&(m=!0,c.field=e[0].fields[e[23]],add_flush_callback(()=>m=!1)),!h&&r[0]&2&&(h=!0,c.showMediaModal=e[1],add_flush_callback(()=>h=!1)),!l&&r[0]&4&&(l=!0,c.changingMedia=e[2],add_flush_callback(()=>l=!1)),!u&&r[0]&8&&(u=!0,c.localMediaList=e[3],add_flush_callback(()=>u=!1)),!d&&r[0]&64&&(d=!0,c.missingRequired=e[6],add_flush_callback(()=>d=!1)),s.$set(c),e[7]?t?(t.p(e,r),r[0]&128&&transition_in(t,1)):(t=create_if_block(e),t.c(),transition_in(t,1),t.m(o.parentNode,o)):t&&(group_outros(),transition_out(t,1,1,()=>{t=null}),check_outros())},i(e){if(r)return;transition_in(n),transition_in(s.$$.fragment,e),transition_in(t),r=!0},o(e){transition_out(n),transition_out(s.$$.fragment,e),transition_out(t),r=!1},d(e){n&&n.d(e),e&&detach(a),destroy_component(s,e),e&&detach(c),t&&t.d(e),e&&detach(o)}}}function create_default_slot(e){let t,s,n,o;return t=new Button({props:{status:e[6]?.length>0?"missing_required":void 0,commitList:[{file:e[0].filepath,contents:JSON.stringify(e[0].fields,void 0,"	")}],shadowContent:e[4],buttonText:"Save",action:e[0].isNew?"create":"update",encoding:"text",user:e[5]}}),n=new Button({props:{commitList:[{file:e[0].filepath,contents:JSON.stringify(e[0].fields,void 0,"	")}],shadowContent:e[4],buttonText:"Delete",buttonStyle:"secondary",action:"delete",encoding:"text",user:e[5]}}),{c(){create_component(t.$$.fragment),s=space(),create_component(n.$$.fragment)},l(e){claim_component(t.$$.fragment,e),s=claim_space(e),claim_component(n.$$.fragment,e)},m(e,i){mount_component(t,e,i),insert_hydration(e,s,i),mount_component(n,e,i),o=!0},p(e,s){const o={};s[0]&64&&(o.status=e[6]?.length>0?"missing_required":void 0),s[0]&1&&(o.commitList=[{file:e[0].filepath,contents:JSON.stringify(e[0].fields,void 0,"	")}]),s[0]&16&&(o.shadowContent=e[4]),s[0]&1&&(o.action=e[0].isNew?"create":"update"),s[0]&32&&(o.user=e[5]),t.$set(o);const i={};s[0]&1&&(i.commitList=[{file:e[0].filepath,contents:JSON.stringify(e[0].fields,void 0,"	")}]),s[0]&16&&(i.shadowContent=e[4]),s[0]&32&&(i.user=e[5]),n.$set(i)},i(e){if(o)return;transition_in(t.$$.fragment,e),transition_in(n.$$.fragment,e),o=!0},o(e){transition_out(t.$$.fragment,e),transition_out(n.$$.fragment,e),o=!1},d(e){destroy_component(t,e),e&&detach(s),destroy_component(n,e)}}}function create_key_block(e){let o,n,i,s=Object.entries(e[0].fields),t=[];for(let n=0;n<s.length;n+=1)t[n]=create_each_block(get_each_context(e,s,n));const a=e=>transition_out(t[e],1,1,()=>{t[e]=null});return n=new ButtonWrapper({props:{$$slots:{default:[create_default_slot]},$$scope:{ctx:e}}}),{c(){for(let e=0;e<t.length;e+=1)t[e].c();o=space(),create_component(n.$$.fragment)},l(e){for(let n=0;n<t.length;n+=1)t[n].l(e);o=claim_space(e),claim_component(n.$$.fragment,e)},m(e,s){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(e,s);insert_hydration(e,o,s),mount_component(n,e,s),i=!0},p(e,i){if(i[0]&223){s=Object.entries(e[0].fields);let n;for(n=0;n<s.length;n+=1){const a=get_each_context(e,s,n);t[n]?(t[n].p(a,i),transition_in(t[n],1)):(t[n]=create_each_block(a),t[n].c(),transition_in(t[n],1),t[n].m(o.parentNode,o))}group_outros();for(n=s.length;n<t.length;n+=1)a(n);check_outros()}const r={};i[0]&113|i[1]&2&&(r.$$scope={dirty:i,ctx:e}),n.$set(r)},i(e){if(i)return;for(let e=0;e<s.length;e+=1)transition_in(t[e]);transition_in(n.$$.fragment,e),i=!0},o(e){t=t.filter(Boolean);for(let e=0;e<t.length;e+=1)transition_out(t[e]);transition_out(n.$$.fragment,e),i=!1},d(e){destroy_each(t,e),e&&detach(o),destroy_component(n,e)}}}function create_fragment(e){let n,o=e[0].filepath,s,t=create_key_block(e);return{c(){n=element("form"),t.c(),this.h()},l(e){n=claim_element(e,"FORM",{class:!0});var s=children(n);t.l(s),s.forEach(detach),this.h()},h(){attr(n,"class","svelte-kc7an7")},m(e,o){insert_hydration(e,n,o),t.m(n,null),s=!0},p(e,s){s[0]&1&&safe_not_equal(o,o=e[0].filepath)?(group_outros(),transition_out(t,1,1,noop),check_outros(),t=create_key_block(e),t.c(),transition_in(t,1),t.m(n,null)):t.p(e,s)},i(){if(s)return;transition_in(t),s=!0},o(){transition_out(t),s=!1},d(e){e&&detach(n),t.d(e)}}}function instance(e,t,n){let l,{content:r,showMediaModal:s,changingMedia:o,localMediaList:i,shadowContent:c,user:d}=t,a=[];function m(e){c=e,n(4,c)}function b(e){s=e,n(1,s)}function u(e){o=e,n(2,o)}function f(e){i=e,n(3,i)}function p(e){a=e,n(6,a)}function g(t,s){e.$$.not_equal(r.fields[s],t)&&(r.fields[s]=t,n(0,r))}function v(e){s=e,n(1,s)}function h(e){o=e,n(2,o)}function j(e){i=e,n(3,i)}function y(e){a=e,n(6,a)}function _(e){c=e,n(4,c)}function w(e){s=e,n(1,s)}function O(e){o=e,n(2,o)}function x(e){i=e,n(3,i)}function C(e){a=e,n(6,a)}return e.$$set=e=>{"content"in e&&n(0,r=e.content),"showMediaModal"in e&&n(1,s=e.showMediaModal),"changingMedia"in e&&n(2,o=e.changingMedia),"localMediaList"in e&&n(3,i=e.localMediaList),"shadowContent"in e&&n(4,c=e.shadowContent),"user"in e&&n(5,d=e.user)},e.$$.update=()=>{if(e.$$.dirty[0]&1)$:n(7,l=schemas[r.type])},[r,s,o,i,c,d,a,l,m,b,u,f,p,g,v,h,j,y,_,w,O,x,C]}class Component extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{content:0,showMediaModal:1,changingMedia:2,localMediaList:3,shadowContent:4,user:5},null,[-1,-1])}}export default Component